import{v as m,j as t,w as T,x as j,u as w,a as _,s as b,y as N,r as g,z as M,L as W,S as I,B as L,A as S,C as $,D as z,N as A}from"./index-DxopmuPh.js";import{p as v,s as B,M as C}from"./MovieCard-DTuQ67Gv.js";const y=({categoryName:s,categoryData:e,screen:n,genres:a,dayUpdated:r,isCatalogue:o})=>{let i=0,l;if(s!=="week")i=m({min:0,max:e.length}),l=f({index:i,categoryData:e,screen:n,genres:a});else{const p=[],h=[];if(o)for(let d=0;d<20;d++)p.push(d);else for(;p.length<n.cardsInRow;){const d=m({min:0,max:e.length});!p.includes(d)&&e[d].id!==(r==null?void 0:r.id)&&p.push(d)}p.map(d=>{const x=f({index:d,categoryData:e,screen:n,genres:a});h.push(x)}),l=[...h]}return l};function f({index:s,categoryData:e,screen:n,genres:a}){const{backdrop:r,poster:o}=O({screen:n,movie:e[s]}),{overview:i,overview_brief:l}=R({movie:e[s],deviceType:n.deviceType}),p=P({genres:a,movie:e[s]}),h=Number(e[s].popularity).toFixed(1),d=Number(e[s].vote_average).toFixed(1);return{...e[s],backdrop_url:r,poster_url:o,overview:i,overview_brief:l,genres:p,popularity:h,vote_average:d}}const O=({screen:s,movie:e})=>{const n=e.backdrop_path?`${s.fetchBackdropURL}${e.backdrop_path}`:v,a=e.poster_path?`${s.fetchPosterURL}${e.poster_path}`:v;return{backdrop:n,poster:a}},P=({movie:s,genres:e})=>{const n=[];return s.genre_ids.length===0?n.push("Not specified"):s.genre_ids.map(a=>{const r=e==null?void 0:e.find(o=>o.id===a);r&&n.push(r.name)}),n},R=({movie:s,deviceType:e})=>{const n={overview:"",overview_brief:""};let a=0;switch(n.overview=s.overview?s.overview:"Overview not provided",e){case"mobile":a=150;break;case"tablet":a=150;break;default:a=300;break}if(s.overview.length>a){const r=[" ",",",".",":","?","!"];let o=a,i=!1;for(;!i;)r.find(p=>s.overview.charAt(o)===p)?i=!0:o++;n.overview_brief=s.overview.slice(0,o)+"..."}return n},q="_lightMode_1r426_1",E="_titleWrapper_1r426_3",F="_title_1r426_3",k={lightMode:q,titleWrapper:E,title:F},G=({children:s,title:e})=>t.jsxs("div",{className:k.titleWrapper,children:[t.jsx("h2",{className:k.title,children:e}),s]}),H="_lightMode_16ngo_1",U="_hero_16ngo_3",Y="_container_16ngo_13",J="_textWrapper_16ngo_21",K="_title_16ngo_27",Q="_titleStars_16ngo_28",V="_starsWrapper_16ngo_40",X="_stars_16ngo_40",Z="_text_16ngo_21",D="_btnWrapper_16ngo_56",c={lightMode:H,hero:U,container:Y,textWrapper:J,title:K,titleStars:Q,starsWrapper:V,stars:X,text:Z,btnWrapper:D},ee="/pet-cinemania/assets/hero-plug-BdvMfPWO.jpg",se=()=>{const s=T(),e={backgroundImage:`linear-gradient(68.84deg, rgb(17, 17, 17) 36.846%, rgba(17, 17, 17, 0) 60.047%), url(${ee})`};return t.jsxs("article",{className:c.hero,style:e,children:[t.jsxs("div",{className:c.textWrapper,children:[t.jsx("h1",{className:c.title,children:"Letâ€™s Make Your Own Cinema"}),t.jsx("p",{className:c.text,children:"Is a guide to creating a personalized movie theater experience. You'll need a projector, screen, and speakers. Decorate your space, choose your films, and stock up on snacks for the full experience"})]}),t.jsx("div",{className:c.btnWrapper,children:t.jsx(j,{isGradient:!0,onClick:()=>s("/catalogue"),children:"Get started"})})]})},le=()=>{const s=w(),{screen:e,genres:{data:n}}=_(b),{day:a,dayUpdated:r}=_(N);g.useEffect(()=>{if(a&&n){const i=y({categoryName:"day",categoryData:a,screen:e,genres:n});s(M(i))}},[s,a,n]);let o={};if(r)o={backgroundImage:`linear-gradient(68.84deg, rgb(17, 17, 17) 36.846%, rgba(17, 17, 17, 0) 60.047%), url(${r.backdrop_url})`};else return t.jsx(W,{});return t.jsx(t.Fragment,{children:r?t.jsx("article",{className:c.hero,style:o,children:t.jsxs("div",{className:c.container,children:[t.jsxs("div",{className:c.textWrapper,children:[t.jsx("h1",{className:c.titleStars,children:r.title}),t.jsx("div",{className:c.starsWrapper,children:t.jsx(I,{value:r.vote_average})}),t.jsx("p",{className:c.text,children:r.overview_brief?r.overview_brief:r.overview})]}),t.jsxs("div",{className:c.btnWrapper,children:[t.jsx(L,{movieId:r.id}),t.jsx(j,{isGradient:!1,isOutOfColorMode:!0,onClick:()=>B({modalType:"details",movie:r,dispatch:s}),children:"More details"})]})]})}):t.jsx(se,{})})},te="_lightMode_wqjzx_1",re="_weeklyTrends_wqjzx_3",ae="_link_wqjzx_8",ne="_cardsList_wqjzx_12",oe="_cardItem_wqjzx_19",u={lightMode:te,weeklyTrends:re,link:ae,cardsList:ne,cardItem:oe},de=({isCatalogue:s})=>{const e=w(),{screen:n,genres:{data:a}}=_(b),{week:r,weekUpdated:o,dayUpdated:i}=_(N);return g.useEffect(()=>{a||e(S()),r||e($("week"))},[e,a,r]),g.useEffect(()=>{if(r&&a&&i){const l=y({categoryName:"week",categoryData:r,screen:n,genres:a,dayUpdated:i,isCatalogue:s});e(z(l))}},[e,r,a,i]),o?t.jsxs("article",{className:u.weeklyTrends,children:[!s&&t.jsx(G,{title:"Weekly Trends",children:t.jsx("p",{children:t.jsx(A,{to:"/catalogue",className:u.link,children:"See all"})})}),t.jsx("ul",{className:u.cardsList,children:o.map(l=>t.jsx("li",{className:u.cardItem,children:t.jsx(C,{movie:l,source:"week"})},l.id))})]}):t.jsx(W,{})};export{G as A,le as H,de as W,y as p};
