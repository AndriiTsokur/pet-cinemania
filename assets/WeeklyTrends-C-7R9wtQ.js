import{y as m,j as s,t as T,z as j,u as w,a as _,s as b,w as N,r as g,A as M,L as W,S as I,B as L,C as S,x as $,D as z,N as A}from"./index-DNxSeVs6.js";import{p as v,s as B,M as C}from"./MovieCard-01FLVMfv.js";const y=({categoryName:t,categoryResults:e,screen:n,genres:a,dayUpdated:r,isCatalogue:o})=>{let i=0,l;if(t!=="week")i=m({min:0,max:e.length}),l=f({index:i,categoryResults:e,screen:n,genres:a});else{const p=[],h=[];if(o)for(let d=0;d<20;d++)p.push(d);else for(;p.length<n.cardsInRow;){const d=m({min:0,max:e.length});!p.includes(d)&&e[d].id!==(r==null?void 0:r.id)&&p.push(d)}p.map(d=>{const x=f({index:d,categoryResults:e,screen:n,genres:a});h.push(x)}),l=[...h]}return l};function f({index:t,categoryResults:e,screen:n,genres:a}){const{backdrop:r,poster:o}=D({screen:n,movie:e[t]}),{overview:i,overview_brief:l}=P({movie:e[t],deviceType:n.deviceType}),p=O({genres:a,movie:e[t]}),h=Number(e[t].popularity).toFixed(1),d=Number(e[t].vote_average).toFixed(1);return{...e[t],backdrop_url:r,poster_url:o,overview:i,overview_brief:l,genres:p,popularity:h,vote_average:d}}const D=({screen:t,movie:e})=>{const n=e.backdrop_path?`${t.fetchBackdropURL}${e.backdrop_path}`:v,a=e.poster_path?`${t.fetchPosterURL}${e.poster_path}`:v;return{backdrop:n,poster:a}},O=({movie:t,genres:e})=>{const n=[];return t.genre_ids.length===0?n.push("Not specified"):t.genre_ids.map(a=>{const r=e==null?void 0:e.find(o=>o.id===a);r&&n.push(r.name)}),n},P=({movie:t,deviceType:e})=>{const n={overview:"",overview_brief:""};let a=0;switch(n.overview=t.overview?t.overview:"Overview not provided",e){case"mobile":a=150;break;case"tablet":a=150;break;default:a=300;break}if(t.overview.length>a){const r=[" ",",",".",":","?","!"];let o=a,i=!1;for(;!i;)r.find(p=>t.overview.charAt(o)===p)?i=!0:o++;n.overview_brief=t.overview.slice(0,o)+"..."}return n},q="_lightMode_1r426_1",E="_titleWrapper_1r426_3",F="_title_1r426_3",k={lightMode:q,titleWrapper:E,title:F},G=({children:t,title:e})=>s.jsxs("div",{className:k.titleWrapper,children:[s.jsx("h2",{className:k.title,children:e}),t]}),H="_lightMode_16ngo_1",U="_hero_16ngo_3",Y="_container_16ngo_13",J="_textWrapper_16ngo_21",K="_title_16ngo_27",Q="_titleStars_16ngo_28",V="_starsWrapper_16ngo_40",X="_stars_16ngo_40",Z="_text_16ngo_21",R="_btnWrapper_16ngo_56",c={lightMode:H,hero:U,container:Y,textWrapper:J,title:K,titleStars:Q,starsWrapper:V,stars:X,text:Z,btnWrapper:R},ee="/pet-cinemania/assets/hero-plug-BdvMfPWO.jpg",te=()=>{const t=T(),e={backgroundImage:`linear-gradient(68.84deg, rgb(17, 17, 17) 36.846%, rgba(17, 17, 17, 0) 60.047%), url(${ee})`};return s.jsxs("article",{className:c.hero,style:e,children:[s.jsxs("div",{className:c.textWrapper,children:[s.jsx("h1",{className:c.title,children:"Letâ€™s Make Your Own Cinema"}),s.jsx("p",{className:c.text,children:"Is a guide to creating a personalized movie theater experience. You'll need a projector, screen, and speakers. Decorate your space, choose your films, and stock up on snacks for the full experience"})]}),s.jsx("div",{className:c.btnWrapper,children:s.jsx(j,{isGradient:!0,onClick:()=>t("/catalogue"),children:"Get started"})})]})},le=()=>{const t=w(),{screen:e,genres:{data:n}}=_(b),{day:a,dayUpdated:r}=_(N);g.useEffect(()=>{if(a&&n){const i=y({categoryName:"day",categoryResults:a.results,screen:e,genres:n});t(M(i))}},[t,a,n]);let o={};if(r)o={backgroundImage:`linear-gradient(68.84deg, rgb(17, 17, 17) 36.846%, rgba(17, 17, 17, 0) 60.047%), url(${r.backdrop_url})`};else return s.jsx(W,{});return s.jsx(s.Fragment,{children:r?s.jsx("article",{className:c.hero,style:o,children:s.jsxs("div",{className:c.container,children:[s.jsxs("div",{className:c.textWrapper,children:[s.jsx("h1",{className:c.titleStars,children:r.title}),s.jsx("div",{className:c.starsWrapper,children:s.jsx(I,{value:r.vote_average})}),s.jsx("p",{className:c.text,children:r.overview_brief?r.overview_brief:r.overview})]}),s.jsxs("div",{className:c.btnWrapper,children:[s.jsx(L,{movieId:r.id}),s.jsx(j,{isGradient:!1,isOutOfColorMode:!0,onClick:()=>B({modalType:"details",movie:r,dispatch:t}),children:"More details"})]})]})}):s.jsx(te,{})})},se="_lightMode_wqjzx_1",re="_weeklyTrends_wqjzx_3",ae="_link_wqjzx_8",ne="_cardsList_wqjzx_12",oe="_cardItem_wqjzx_19",u={lightMode:se,weeklyTrends:re,link:ae,cardsList:ne,cardItem:oe},de=({isCatalogue:t})=>{const e=w(),{screen:n,genres:{data:a}}=_(b),{week:r,weekUpdated:o,dayUpdated:i}=_(N);return g.useEffect(()=>{a||e(S()),r||e($({period:"week"}))},[e,a,r]),g.useEffect(()=>{if(r&&a&&i){const l=y({categoryName:"week",categoryResults:r.results,screen:n,genres:a,dayUpdated:i,isCatalogue:t});e(z(l))}},[e,r,a,i]),o?s.jsxs("article",{className:u.weeklyTrends,children:[!t&&s.jsx(G,{title:"Weekly Trends",children:s.jsx("p",{children:s.jsx(A,{to:"/catalogue",className:u.link,children:"See all"})})}),s.jsx("ul",{className:u.cardsList,children:o.results.map(l=>s.jsx("li",{className:u.cardItem,children:s.jsx(C,{movie:l,source:"week"})},l.id))})]}):s.jsx(W,{})};export{G as A,le as H,de as W,y as p};
