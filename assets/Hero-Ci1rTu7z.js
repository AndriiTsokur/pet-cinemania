import{k as h,l as x,j as o,m,u as b,a as v,s as f,e as w,r as j,n as k,S as N,B as W}from"./index-B-pcK2rJ.js";import{p as g,s as S}from"./showDetails-D7ZRgE5V.js";const I=({categoryName:s,categoryData:e,screen:r,genres:a,dayUpdated:t})=>{let n=0,c;if(s!=="week")n=h({min:0,max:e.length}),c=_({index:n,categoryData:e,screen:r,genres:a});else{const l=[],d=[];for(;l.length<r.cardsInRow;){const p=h({min:0,max:e.length});!l.includes(p)&&e[p].id!==(t==null?void 0:t.id)&&l.push(p)}l.map(p=>{const u=_({index:p,categoryData:e,screen:r,genres:a});d.push(u)}),c=[...d]}return c};function _({index:s,categoryData:e,screen:r,genres:a}){const{backdrop:t,poster:n}=M({screen:r,movie:e[s]}),{overview:c,overview_brief:l}=y({movie:e[s],deviceType:r.deviceType}),d=T({genres:a,movie:e[s]}),p=Number(e[s].popularity).toFixed(1),u=Number(e[s].vote_average).toFixed(1);return{...e[s],backdrop_url:t,poster_url:n,overview:c,overview_brief:l,genres:d,popularity:p,vote_average:u}}const M=({screen:s,movie:e})=>{const r=e.backdrop_path?`${s.fetchBackdropURL}${e.backdrop_path}`:g,a=e.poster_path?`${s.fetchPosterURL}${e.poster_path}`:g;return{backdrop:r,poster:a}},T=({movie:s,genres:e})=>{const r=[];return s.genre_ids.length===0?r.push("Not specified"):s.genre_ids.map(a=>{const t=e==null?void 0:e.find(n=>n.id===a);t&&r.push(t.name)}),r},y=({movie:s,deviceType:e})=>{const r={overview:"",overview_brief:""};let a=0;switch(r.overview=s.overview?s.overview:"Overview not provided",e){case"mobile":a=150;break;case"tablet":a=150;break;default:a=300;break}if(s.overview.length>a){const t=[" ",",",".",":","?","!"];let n=a,c=!1;for(;!c;)t.find(d=>s.overview.charAt(n)===d)?c=!0:n++;r.overview_brief=s.overview.slice(0,n)+"..."}return r},B="_lightMode_16ngo_1",C="_hero_16ngo_3",O="_container_16ngo_13",P="_textWrapper_16ngo_21",R="_title_16ngo_27",$="_titleStars_16ngo_28",F="_starsWrapper_16ngo_40",A="_stars_16ngo_40",G="_text_16ngo_21",L="_btnWrapper_16ngo_56",i={lightMode:B,hero:C,container:O,textWrapper:P,title:R,titleStars:$,starsWrapper:F,stars:A,text:G,btnWrapper:L},E="/pet-cinemania/assets/hero-plug-BdvMfPWO.jpg",H=()=>{const s=x(),e={backgroundImage:`linear-gradient(68.84deg, rgb(17, 17, 17) 36.846%, rgba(17, 17, 17, 0) 60.047%), url(${E})`};return o.jsxs("article",{className:i.hero,style:e,children:[o.jsxs("div",{className:i.textWrapper,children:[o.jsx("h1",{className:i.title,children:"Letâ€™s Make Your Own Cinema"}),o.jsx("p",{className:i.text,children:"Is a guide to creating a personalized movie theater experience. You'll need a projector, screen, and speakers. Decorate your space, choose your films, and stock up on snacks for the full experience"})]}),o.jsx("div",{className:i.btnWrapper,children:o.jsx(m,{isGradient:!0,onClick:()=>s("/catalogue"),children:"Get started"})})]})},J=()=>{const s=b(),{screen:e,genres:{data:r}}=v(f),{day:a,dayUpdated:t}=v(w);j.useEffect(()=>{if(a&&r){const c=I({categoryName:"day",categoryData:a,screen:e,genres:r});s(k(c))}},[e.deviceType,a,s]);let n={};return t&&(n={backgroundImage:`linear-gradient(68.84deg, rgb(17, 17, 17) 36.846%, rgba(17, 17, 17, 0) 60.047%), url(${t.backdrop_url})`}),o.jsx(o.Fragment,{children:t?o.jsx("article",{className:i.hero,style:n,children:o.jsxs("div",{className:i.container,children:[o.jsxs("div",{className:i.textWrapper,children:[o.jsx("h1",{className:i.titleStars,children:t.title}),o.jsx("div",{className:i.starsWrapper,children:o.jsx(N,{value:t.vote_average})}),o.jsx("p",{className:i.text,children:t.overview_brief?t.overview_brief:t.overview})]}),o.jsxs("div",{className:i.btnWrapper,children:[o.jsx(W,{movieId:t.id}),o.jsx(m,{isGradient:!1,isOutOfColorMode:!0,onClick:()=>S({modalType:"details",movie:t,dispatch:s}),children:"More details"})]})]})}):o.jsx(H,{})})};export{J as H,I as p};
