import{u as m,a as d,s as x,b as v,r as p,c as N,j as e,B as w,d as b,e as T,f,g as k,h as y,L as W,N as M}from"./index-B-pcK2rJ.js";import{p as j,H as C}from"./Hero-Ci1rTu7z.js";import{M as L}from"./MovieCard-B6bKw_9I.js";import"./showDetails-D7ZRgE5V.js";const U="_lightMode_x0hjw_1",D="_upcoming_x0hjw_3",z="_container_x0hjw_8",E="_posterContainer_x0hjw_14",H="_poster_x0hjw_14",I="_infoContainer_x0hjw_29",$="_title_x0hjw_36",A="_detailsWrapper_x0hjw_45",G="_column_x0hjw_52",B="_parameterName_x0hjw_57",S="_data_x0hjw_62",P="_releaseDate_x0hjw_66",R="_votes_x0hjw_75",V="_aboutTitle_x0hjw_88",F="_aboutText_x0hjw_97",q="_btnWrapper_x0hjw_105",J="_backdrop_x0hjw_122",t={lightMode:U,upcoming:D,container:z,posterContainer:E,poster:H,infoContainer:I,title:$,detailsWrapper:A,column:G,parameterName:B,data:S,releaseDate:P,votes:R,aboutTitle:V,aboutText:F,btnWrapper:q,backdrop:J},K=()=>{var c,h;const r=m(),{screen:a,genres:{data:n}}=d(x),{data:i,dataUpdated:s}=d(v);p.useEffect(()=>{if(i&&n){const g=j({categoryName:"upcoming",categoryData:i,screen:a,genres:n});r(N(g))}},[a.deviceType,i,r]);let o="";if(s&&(o=a.deviceType==="mobile"?s.poster_url||"":s.backdrop_url||""),!!s)return e.jsxs("article",{className:t.upcoming,children:[e.jsx(u,{title:"Upcoming This Month"}),e.jsxs("div",{className:t.container,children:[e.jsx("div",{style:a.deviceType==="mobile"?{height:a.movieCardHeight}:{},className:t.posterContainer,children:e.jsx("img",{src:o,className:a.deviceType==="mobile"?t.poster:t.backdrop,alt:s.title})}),e.jsxs("div",{className:t.infoContainer,children:[e.jsx("h3",{className:t.title,children:s.title}),e.jsxs("div",{className:t.detailsWrapper,children:[e.jsxs("div",{className:t.column,children:[e.jsxs("div",{className:t.parameterName,children:[e.jsx("p",{children:"Release date"}),e.jsx("p",{children:"Vote / Votes"})]}),e.jsxs("div",{className:t.data,children:[e.jsx("p",{className:t.releaseDate,children:s.release_date}),s.vote_count===0?e.jsx("p",{children:"No votes yet"}):e.jsxs("p",{children:[e.jsx("span",{className:t.votes,children:s.vote_average})," ","/"," ",e.jsx("span",{className:t.votes,children:s.vote_count})]})]})]}),e.jsxs("div",{className:t.column,children:[e.jsxs("div",{className:t.parameterName,children:[e.jsx("p",{children:"Popularity"}),((c=s.genres)==null?void 0:c.length)===1?e.jsx("p",{children:"Genre"}):e.jsx("p",{children:"Genres"})]}),e.jsxs("div",{className:t.data,children:[e.jsx("p",{children:s.popularity}),e.jsx("p",{children:(h=s.genres)==null?void 0:h.join(", ")})]})]})]}),e.jsx("h4",{className:t.aboutTitle,children:"About"}),e.jsx("p",{className:t.aboutText,children:a.deviceType==="desktop"&&s.overview_brief?s.overview_brief:s.overview}),e.jsxs("div",{className:t.btnWrapper,children:[e.jsx(w,{movieId:s.id}),e.jsx(b,{movie:s,isGradient:!1})]})]})]})]})},O="_lightMode_11zh8_1",Q="_weeklyTrends_11zh8_3",X="_link_11zh8_8",Y="_cardsList_11zh8_12",Z="_cardItem_11zh8_16",l={lightMode:O,weeklyTrends:Q,link:X,cardsList:Y,cardItem:Z},ee=()=>{const r=m(),{screen:a,genres:{data:n}}=d(x),{week:i,weekUpdated:s,dayUpdated:o}=d(T);return p.useEffect(()=>{n||r(f()),i||r(k("week"))},[r,n,i]),p.useEffect(()=>{if(i&&n&&o){const c=j({categoryName:"week",categoryData:i,screen:a,genres:n,dayUpdated:o});r(y(c))}},[r,i,n,o]),s?e.jsxs("article",{className:l.weeklyTrends,children:[e.jsx(u,{title:"Weekly Trends",children:e.jsx("p",{children:e.jsx(M,{to:"/catalogue",className:l.link,children:"See all"})})}),e.jsx("ul",{className:l.cardsList,children:s.map(c=>e.jsx("li",{className:l.cardItem,children:e.jsx(L,{movie:c,source:"week"})},c.id))})]}):e.jsx(W,{})},oe=()=>e.jsxs(e.Fragment,{children:[e.jsx(C,{}),e.jsx(ee,{}),e.jsx(K,{})]}),se="_lightMode_1r426_1",te="_titleWrapper_1r426_3",ae="_title_1r426_3",_={lightMode:se,titleWrapper:te,title:ae},u=({children:r,title:a})=>e.jsxs("div",{className:_.titleWrapper,children:[e.jsx("h2",{className:_.title,children:a}),r]});export{oe as HomePage};
